<section class="mt-5 p-3">
  <div class="container">
    <button class="btn btn-primary" (click)="openCreateGraduationRequirement()" style="background-color:#383838">Novo Requisito de Graduação</button>
    <div class="mt-5">
      <table class="table">
        <thead>
          <tr class="">
            <th scope="col">Faixa</th>
            <th scope="col">Descrição</th>
            <th scope="col">Aulas Mínimas</th>
            <th scope="col">Ações</th>
          </tr>
        </thead>
        <tbody>
          @for (requirement of graduationRequirements; track requirement.id){
          <tr>
            <td>{{requirement.belt?.color || getBeltColor(requirement.beltId)}}</td>
            <td>{{requirement.description}}</td>
            <td>{{requirement.minimumClasses || 0}}</td>
            <td>
              <a class="p-2" (click)="openUpdateGraduationRequirement(requirement)"><img src="../../../../assets/icons/structural-icons/pencil-square.svg" /></a>
              <a class="p-2" (click)="deleteGraduationRequirement(requirement)" style="cursor: pointer;"><img src="../../../../assets/icons/structural-icons/trash.svg" /></a>
            </td>
          </tr>
          }
        </tbody>
      </table>
    </div>
  </div>
</section>

@if(openedCreateGraduationRequirement){
<app-create-graduation-requirement (closeEvent)="closeCreateGraduationRequirement()" (graduationRequirementCreated)="onGraduationRequirementCreated()">
</app-create-graduation-requirement>
}

@if(openedUpdateGraduationRequirement){
<app-update-graduation-requirement [graduationRequirement]="selectedGraduationRequirement" (closeEvent)="closeUpdateGraduationRequirement()" (graduationRequirementUpdated)="onGraduationRequirementUpdated()">
</app-update-graduation-requirement>
}
