<section class="mt-5 p-3">
  <div class="container">
    <button class="btn btn-primary" (click)="openCreateNotice()" style="background-color:#383838">Novo Aviso</button>
    <div class="mt-5">
      <table class="table">
        <thead>
          <tr class="">
            <th scope="col">Descrição</th>
            <th scope="col">Status</th>
            <th scope="col">Data de Criação</th>
            <th scope="col">Ações</th>
          </tr>
        </thead>
        <tbody>
          @for (notice of notices; track notice.id){
          <tr>
            <td>{{notice.description}}</td>
            <td>
              <span class="badge" [class]="notice.isActive ? 'badge-success' : 'badge-secondary'">
                {{notice.isActive ? 'Ativo' : 'Inativo'}}
              </span>
            </td>
            <td>{{notice.createdAt | date:'dd/MM/yyyy hh:mm:ss a' }}</td>
            <td>
              <a class="p-2" (click)="openUpdateNotice(notice)"><img src="../../../../assets/icons/structural-icons/pencil-square.svg" /></a>
              <a class="p-2" (click)="deleteNotice(notice)"><img src="../../../../assets/icons/structural-icons/trash.svg" /></a>
            </td>
          </tr>
          }
        </tbody>
      </table>
    </div>
  </div>
</section>

@if(openedCreateNotice){
<app-create-notice (closeEvent)="closeCreateNotice()" (noticeCreated)="onNoticeCreated()">
</app-create-notice>
}

@if(openedUpdateNotice){
<app-update-notice [notice]="selectedNotice" (closeEvent)="closeUpdateNotice()" (noticeUpdated)="onNoticeUpdated()">
</app-update-notice>
}
